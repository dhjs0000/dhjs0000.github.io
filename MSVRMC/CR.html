<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MSVR MC服务器</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="swiper-bundle.min.css">
    <script src="swiper-bundle.min.js"></script>
    
    <link rel="stylesheet" href="../cookie-consent.css">
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <div class="logo">MSVR <span style="color: var(--secondary-color);">MC</span></div>
            <ul class="nav-menu">
                <li><a href="#home">首页</a></li>
                <li><a href="#announcements">公告</a></li>
                <li><a href="#resources">资源</a></li>
                <li><a href="#contact">联系我们</a></li>
                <li><a href="../home" style="display: flex; align-items: center; gap: 5px; background-color: #e74c3c; color: white; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;"><i class="fas fa-home"></i> 返回Ethernos主页</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero-section">
            <div class="swiper hero-swiper">
                <div class="swiper-wrapper">
                    <!-- JS 生成的 .swiper-slide -->
                </div>

                <!-- 新增：整屏毛玻璃层 -->
                <div class="glass-wrapper">

                </div>

                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
            <div class="hero-content">
                <div class="glass-panel">
                    <h1>欢迎来到MSVR MC服务器</h1>
                    <p>为玩家提供优质的游戏体验和管理服务</p>
                    <a href="#resources" class="hero-cta">浏览资源</a>
                </div>
            </div>
        </section>

        <script>
            // 初始化Swiper
            document.addEventListener('DOMContentLoaded', function() {
                // 获取images目录下的所有图片
                const images = [
                    'images/slide1.jpg',
                    'images/slide2.jpg',
                    'images/slide3.jpg',
                    // 这里可以添加更多图片
                ];

                // 动态添加轮播图片
                const swiperWrapper = document.querySelector('.swiper-wrapper');
                images.forEach(image => {
                    const slide = document.createElement('div');
                    slide.className = 'swiper-slide';
                    slide.style.backgroundImage = `url('${image}')`;
                    swiperWrapper.appendChild(slide);
                });

                // 初始化Swiper
                const swiper = new Swiper('.hero-swiper', {
                    loop: true,
                    effect: 'fade',
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                });
            });
        </script>

        <section id="announcements" class="content-section">
            <div class="section-header">
                <h2>最新公告</h2>
                <p>了解服务器的最新动态和重要通知</p>
            </div>
            <div id="latest-announcements" class="announcements-grid">
                <!-- JS 生成的公告卡片 -->
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button id="view-all-btn" class="hero-cta" style="background-color: var(--secondary-color);">
                    查看历史公告
                </button>
            </div>
        </section>

        <!-- 历史公告模态框 -->
        <div id="history-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>历史公告</h2>
                    <span class="close">&times;</span>
                </div>
                <div id="all-announcements" class="announcements-grid">
                    <!-- JS 生成的所有公告 -->
                </div>
            </div>
        </div>

        <section id="resources" class="content-section">
            <div class="section-header">
                <h2>重要资源</h2>
                <p>获取服务器相关的重要文件和资源</p>
            </div>
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>MSVR MC法律</h3>
                    <p>了解服务器的法律</p>
                    <a href="Viewer" class="button">立即查看</a>
                </div>
            </div>
        </section>

        <!-- 服务器状态区域 -->
        <section id="server-status" class="content-section">
            <div class="section-header">
                <h2>服务器状态</h2>
                <p>实时查看MSVR MC服务器的运行状态</p>
            </div>
            <div class="server-status-container">
                <div class="servers-grid">
                    <!-- 主服务器状态 -->
                    <div class="server-status-item">
                        <div id="status-loading-main" class="status-loading">
                            <div class="loading-spinner"></div>
                            <p>正在获取主服务器状态...</p>
                        </div>
                        <div id="server-status-content-main" class="server-status-content" style="display: none;">
                            <div class="status-card">
                                <div class="status-header">
                                    <div class="status-indicator" id="status-indicator-main">
                                        <i class="fas fa-circle"></i>
                                    </div>
                                    <div class="status-info">
                                        <h3 id="server-name-main">MSVR MC 主服务器</h3>
                                        <p id="server-address-main">msvrmc.com:27988</p>
                                    </div>
                                </div>
                                <div class="status-details">
                                    <div class="status-item">
                                        <span class="status-label">状态:</span>
                                        <span class="status-value" id="server-status-text-main">检测中...</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">类型:</span>
                                        <span class="status-value" id="server-type-main">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">版本:</span>
                                        <span class="status-value" id="server-version-main">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">玩家在线:</span>
                                        <div class="player-progress-container">
                                            <div class="player-progress-bar">
                                                <div class="player-progress-fill" id="player-progress-main"></div>
                                            </div>
                                            <span class="player-count" id="player-count-main">0/0</span>
                                        </div>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">延迟:</span>
                                        <span class="status-value" id="server-delay-main">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">游戏模式:</span>
                                        <span class="status-value" id="game-mode-main">-</span>
                                    </div>
                                </div>
                                <div class="status-motd">
                                    <p id="server-motd-main">-</p>
                                </div>
                                <div id="status-error-main" class="status-error" style="display: none;">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <p>无法获取主服务器状态，请稍后重试</p>
                                    <button onclick="refreshServerStatus('main')" class="refresh-btn">
                                        <i class="fas fa-sync-alt"></i> 重新检测
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 备用服务器状态 -->
                    <div class="server-status-item">
                        <div id="status-loading-backup" class="status-loading">
                            <div class="loading-spinner"></div>
                            <p>正在获取备用服务器状态...</p>
                        </div>
                        <div id="server-status-content-backup" class="server-status-content" style="display: none;">
                            <div class="status-card">
                                <div class="status-header">
                                    <div class="status-indicator" id="status-indicator-backup">
                                        <i class="fas fa-circle"></i>
                                    </div>
                                    <div class="status-info">
                                        <h3 id="server-name-backup">MSVR MC 备用服务器</h3>
                                        <p id="server-address-backup">msvrmcq.ethernos.cn:27988</p>
                                    </div>
                                </div>
                                <div class="status-details">
                                    <div class="status-item">
                                        <span class="status-label">状态:</span>
                                        <span class="status-value" id="server-status-text-backup">检测中...</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">类型:</span>
                                        <span class="status-value" id="server-type-backup">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">版本:</span>
                                        <span class="status-value" id="server-version-backup">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">玩家在线:</span>
                                        <div class="player-progress-container">
                                            <div class="player-progress-bar">
                                                <div class="player-progress-fill" id="player-progress-backup"></div>
                                            </div>
                                            <span class="player-count" id="player-count-backup">0/0</span>
                                        </div>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">延迟:</span>
                                        <span class="status-value" id="server-delay-backup">-</span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">游戏模式:</span>
                                        <span class="status-value" id="game-mode-backup">-</span>
                                    </div>
                                </div>
                                <div class="status-motd">
                                    <p id="server-motd-backup">-</p>
                                </div>
                                <div id="status-error-backup" class="status-error" style="display: none;">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <p>无法获取备用服务器状态，请稍后重试</p>
                                    <button onclick="refreshServerStatus('backup')" class="refresh-btn">
                                        <i class="fas fa-sync-alt"></i> 重新检测
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 留言区域 -->
        <section id="comments" class="content-section">
            <div class="section-header">
                <h2>留言区</h2>
                <p>欢迎分享您的想法和建议</p>
            </div>
            <div class="comments-container">
                <div id="comments-loading" class="comments-loading">
                    <div class="loading-spinner"></div>
                    <p>评论加载中...</p>
                </div>
                <div id="comments-container"></div>
                <script>
                    // 等待 DOM 加载完成
                    document.addEventListener('DOMContentLoaded', function() {
                        // 创建一个 MutationObserver 来监视评论容器
                        const observer = new MutationObserver((mutations) => {
                            for (const mutation of mutations) {
                                if (mutation.addedNodes.length > 0 && mutation.addedNodes[0].tagName === 'IFRAME') {
                                    // 当 utterances iframe 被添加时，隐藏加载动画
                                    document.getElementById('comments-loading').style.display = 'none';
                                }
                            }
                        });

                        // 设置超时，如果5秒后还没加载完成，也隐藏加载动画
                        setTimeout(() => {
                            document.getElementById('comments-loading').style.display = 'none';
                        }, 5000);

                        // 开始观察评论容器
                        observer.observe(document.getElementById('comments-container'), {
                            childList: true,
                            subtree: true
                        });

                        // 创建 utterances 脚本
                        const script = document.createElement('script');
                        script.src = 'https://utteranc.es/client.js';
                        script.setAttribute('repo', 'dhjs0000/dhjs0000.github.io');
                        script.setAttribute('issue-term', 'pathname');
                        script.setAttribute('label', '评论');
                        script.setAttribute('theme', 'github-light');
                        script.setAttribute('crossorigin', 'anonymous');
                        script.async = true;

                        // 添加脚本到评论容器
                        document.getElementById('comments-container').appendChild(script);
                    });
                </script>
                            </script>
                        </div>
                    </section>
                        <section class="whitelist-section">
        <div class="section-header">
            <h2>白名单成员</h2>
            <p>以下玩家已获得服务器准入许可</p>
        </div>
        <div class="whitelist-container">
            <div class="whitelist-grid">
                <div class="whitelist-card">djhcbhgs44</div>
                <div class="whitelist-card">Woolen yarn2017</div>
                <div class="whitelist-card">DNDZNB</div>
                <div class="whitelist-card">WCWLL</div>
                <div class="whitelist-card">TonierBead82373</div>
                <div class="whitelist-card">Zhouhengyu666</div>
                <div class="whitelist-card">meteor Zh25</div>
                <div class="whitelist-card">BrassyElf2689</div>
                <div class="whitelist-card">king137891</div>
                <div class="whitelist-card">RebornLily1318</div>
                <div class="whitelist-card">DentedFire6166</div>
            </div>
        </div>
    </section>

    <!-- 管理团队成员 -->
    <section class="management-section">
        <div class="section-header">
            <h2>管理团队</h2>
            <p>服务器核心管理人员</p>
        </div>
        <div class="management-container">
            <div class="management-grid">
                <div class="management-card admin-main">
                    <div class="management-avatar">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3>主要管理员</h3>
                    <p class="management-name">Woolen yarn2017</p>
                    <p class="management-role">服务器主要管理者</p>
                    <div class="management-contact">
                        <a href="mailto:2750039645@qq.com" class="email-button">
                            <i class="fas fa-envelope"></i> 发送邮件
                        </a>
                        <span class="email-address">2750039645@qq.com</span>
                    </div>
                </div>
                
                <div class="management-card admin">
                    <div class="management-avatar">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h3>管理员</h3>
                    <p class="management-name">TonierBead82373</p>
                    <p class="management-role">服务器管理员</p>
                    <div class="management-contact">
                        <a href="mailto:3683739134@qq.com" class="email-button">
                            <i class="fas fa-envelope"></i> 发送邮件
                        </a>
                        <span class="email-address">3683739134@qq.com</span>
                    </div>
                </div>
                
                <div class="management-card admin">
                    <div class="management-avatar">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h3>管理员</h3>
                    <p class="management-name">Woolen yarn2017</p>
                    <p class="management-role">服务器管理员</p>
                    <div class="management-contact">
                        <a href="mailto:2750039645@qq.com" class="email-button">
                            <i class="fas fa-envelope"></i> 发送邮件
                        </a>
                        <span class="email-address">2750039645@qq.com</span>
                    </div>
                </div>
                
                <div class="management-card server-owner">
                    <div class="management-avatar">
                        <i class="fas fa-server"></i>
                    </div>
                    <h3>服主</h3>
                    <p class="management-name">djhcbhgs44</p>
                    <p class="management-role">服务器所有者</p>
                    <div class="management-contact">
                        <a href="mailto:dhjsllll@foxmail.com" class="email-button">
                            <i class="fas fa-envelope"></i> 发送邮件
                        </a>
                        <span class="email-address">dhjsllll@foxmail.com</span>
                    </div>
                </div>
                
                <div class="management-card official">
                    <div class="management-avatar">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>以太诺斯官方</h3>
                    <p class="management-name">官方邮箱</p>
                    <p class="management-role">官方事务联系</p>
                    <div class="management-contact">
                        <a href="mailto:official@ethernos.cn" class="email-button">
                            <i class="fas fa-envelope"></i> 官方邮箱
                        </a>
                        <span class="email-address">official@ethernos.cn</span>
                    </div>
                </div>
                
                <div class="management-card studio">
                    <div class="management-avatar">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>以太诺斯工作室</h3>
                    <p class="management-name">工作室邮箱</p>
                    <p class="management-role">创作与合作联系</p>
                    <div class="management-contact">
                        <a href="mailto:studio@ethernos.cn" class="email-button">
                            <i class="fas fa-envelope"></i> 工作室邮箱
                        </a>
                        <span class="email-address">studio@ethernos.cn</span>
                    </div>
                </div>
                
                <!-- 一键发送给主要管理者和服主 -->
                <div class="management-card quick-contact">
                    <div class="management-avatar">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                    <h3>快速联系</h3>
                    <p class="management-name">主要管理者 & 服主</p>
                    <p class="management-role">一键发送邮件</p>
                    <div class="management-contact">
                        <a href="mailto:official@msvrmc.com" class="email-button quick-send">
                            <i class="fas fa-rocket"></i> 一键发送
                        </a>
                        <span class="email-address">official@msvrmc.com</span>
                        <p class="contact-hint">同时发送给主要管理者和服主</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
    .whitelist-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 60px 20px;
        margin-top: 80px;
    }

    .whitelist-section .section-header h2 {
        color: white;
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-align: center;
    }

    .whitelist-section .section-header p {
        color: rgba(255,255,255,0.8);
        font-size: 1.1rem;
        text-align: center;
        margin-bottom: 40px;
    }

    .whitelist-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .whitelist-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
    }

    .whitelist-card {
        background: rgba(255,255,255,0.15);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        color: white;
        font-weight: 600;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .whitelist-card:hover {
        transform: translateY(-5px);
        background: rgba(255,255,255,0.25);
        box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    }

    @media (max-width: 768px) {
        .whitelist-grid {
            grid-template-columns: 1fr;
        }
        
        .whitelist-section .section-header h2 {
            font-size: 2rem;
        }
    }
    </style>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>关于我们</h4>
                <p>MSVR MC中央管理组致力于为玩家提供最佳的游戏体验，创建和谐、有序的游戏环境。</p>
                <div class="social-icons">
                    <a href="https://github.com/dhjs0000/" class="social-icon"><i class="fab fa-github"></i></a>
                    <a href="https://space.bilibili.com/430218185/" class="social-icon"><i class="fab fa-bilibili"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4>快速链接</h4>
                <ul>
                    <li><a href="#home">首页</a></li>
                    <li><a href="#announcements">公告</a></li>
                    <li><a href="#resources">资源</a></li>
                    <li><a href="#contact">联系我们</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 MSVR MC中央管理组. 保留所有权利。</p>
        </div>
    </footer>

    <script>
        // 公告数据加载和显示功能
        document.addEventListener('DOMContentLoaded', function() {
            // 加载公告数据
            fetch('news.json')
                .then(response => response.json())
                .then(data => {
                    // 按日期排序（最新的在前）
                    const sortedData = data.sort((a, b) => new Date(b.date) - new Date(a.date));
                    
                    // 显示最新公告（前6个）
                    displayLatestAnnouncements(sortedData.slice(0, 6));
                    
                    // 保存所有公告数据供历史公告使用
                    window.allAnnouncements = sortedData;
                })
                .catch(error => {
                    console.error('加载公告数据失败:', error);
                    document.getElementById('latest-announcements').innerHTML =
                        '<p style="text-align: center; color: #e74c3c;">公告数据加载失败，请稍后重试。</p>';
                });
        });

        // 显示最新公告
        function displayLatestAnnouncements(announcements) {
            const container = document.getElementById('latest-announcements');
            container.innerHTML = '';
            
            announcements.forEach(announcement => {
                const card = createAnnouncementCard(announcement);
                container.appendChild(card);
            });
        }

        // 创建公告卡片
        function createAnnouncementCard(announcement) {
            const card = document.createElement('div');
            card.className = 'announcement-card';
            card.innerHTML = `
                <h3>${announcement.title}</h3>
                <p>${announcement.content}</p>
                <span class="date">${announcement.date}</span>
            `;
            return card;
        }

        // 历史公告模态框功能
        const modal = document.getElementById('history-modal');
        const viewAllBtn = document.getElementById('view-all-btn');
        const closeBtn = document.querySelector('.close');

        // 点击"查看历史公告"按钮
        viewAllBtn.addEventListener('click', function() {
            displayAllAnnouncements();
            modal.style.display = 'block';
        });

        // 点击关闭按钮
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });

        // 点击模态框外部关闭
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });

        // 显示所有公告
        function displayAllAnnouncements() {
            const container = document.getElementById('all-announcements');
            container.innerHTML = '';
            
            if (window.allAnnouncements && window.allAnnouncements.length > 0) {
                window.allAnnouncements.forEach(announcement => {
                    const card = createAnnouncementCard(announcement);
                    container.appendChild(card);
                });
            } else {
                container.innerHTML = '<p style="text-align: center; color: #666;">暂无公告数据</p>';
            }
        }

        // 服务器状态功能
        function fetchServerStatus(serverType = 'main') {
            const loadingEl = document.getElementById(`status-loading-${serverType}`);
            const contentEl = document.getElementById(`server-status-content-${serverType}`);
            const errorEl = document.getElementById(`status-error-${serverType}`);

            // 显示加载状态
            loadingEl.style.display = 'block';
            contentEl.style.display = 'none';
            errorEl.style.display = 'none';

            // 根据服务器类型设置不同的API参数
            let apiUrl;
            if (serverType === 'main') {
                apiUrl = 'https://motd.minebbs.com/api/status?ip=msvrmc.com&port=27988&stype=auto';
            } else if (serverType === 'backup') {
                apiUrl = 'https://motd.minebbs.com/api/status?ip=msvrmcq.ethernos.cn&port=27988&stype=auto';
            }

            // 调用API获取服务器状态
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('网络响应失败');
                    }
                    return response.json();
                })
                .then(data => {
                    // 隐藏加载状态，显示内容
                    loadingEl.style.display = 'none';
                    contentEl.style.display = 'block';
                    
                    // 更新状态信息
                    updateServerStatus(data, serverType);
                })
                .catch(error => {
                    console.error(`获取${serverType === 'main' ? '主' : '备用'}服务器状态失败:`, error);
                    // 隐藏加载状态，显示离线状态信息
                    loadingEl.style.display = 'none';
                    contentEl.style.display = 'block';
                    displayOfflineStatus(serverType);
                });
        }

        function updateServerStatus(data, serverType = 'main') {
            // 更新状态指示器
            const indicator = document.getElementById(`status-indicator-${serverType}`);
            const statusText = document.getElementById(`server-status-text-${serverType}`);
            
            if (data.status === 'online') {
                indicator.classList.add('online');
                indicator.classList.remove('offline');
                statusText.textContent = '在线';
                statusText.style.color = '#2ecc71';
            } else {
                indicator.classList.add('offline');
                indicator.classList.remove('online');
                statusText.textContent = '离线';
                statusText.style.color = '#e74c3c';
            }

            // 更新服务器信息
            document.getElementById(`server-type-${serverType}`).textContent = data.type || '-';
            document.getElementById(`server-version-${serverType}`).textContent = data.version || '-';
            
            // 更新玩家进度条
            const onlinePlayers = parseInt(data.players?.online) || 0;
            const maxPlayers = parseInt(data.players?.max) || 0;
            const progressPercentage = maxPlayers > 0 ? (onlinePlayers / maxPlayers) * 100 : 0;
            
            document.getElementById(`player-progress-${serverType}`).style.width = `${progressPercentage}%`;
            document.getElementById(`player-count-${serverType}`).textContent = `${onlinePlayers}/${maxPlayers}`;
            
            document.getElementById(`server-delay-${serverType}`).textContent = data.delay ? `${data.delay}ms` : '-';
            
            // 游戏模式中文映射
            const gameModeMap = {
                'Survival': '生存模式',
                'Creative': '创造模式',
                'Adventure': '冒险模式',
                'Spectator': '旁观模式',
                'Hardcore': '极限模式'
            };
            const gameMode = data.gamemode || '-';
            const chineseGameMode = gameModeMap[gameMode] || gameMode;
            document.getElementById(`game-mode-${serverType}`).textContent = chineseGameMode;
            
            document.getElementById(`server-motd-${serverType}`).textContent = data.motd || '-';
        }

        function displayOfflineStatus(serverType = 'main') {
            // 显示离线状态
            const indicator = document.getElementById(`status-indicator-${serverType}`);
            const statusText = document.getElementById(`server-status-text-${serverType}`);
            
            indicator.classList.add('offline');
            indicator.classList.remove('online');
            statusText.textContent = '离线';
            statusText.style.color = '#e74c3c';

            // 设置默认离线信息
            document.getElementById(`server-type-${serverType}`).textContent = 'Bedrock';
            document.getElementById(`server-version-${serverType}`).textContent = '未知';
            
            // 玩家进度条显示为0
            document.getElementById(`player-progress-${serverType}`).style.width = '0%';
            document.getElementById(`player-count-${serverType}`).textContent = '0/0';
            
            document.getElementById(`server-delay-${serverType}`).textContent = '未知';
            document.getElementById(`game-mode-${serverType}`).textContent = '未知';
            document.getElementById(`server-motd-${serverType}`).textContent = '服务器离线';

            // 显示错误信息在底部
            const errorEl = document.getElementById(`status-error-${serverType}`);
            errorEl.style.display = 'block';
        }

        function refreshServerStatus(serverType = 'main') {
            fetchServerStatus(serverType);
        }

        // 页面加载完成后获取服务器状态
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟1秒后获取状态，让页面完全加载
            setTimeout(() => {
                fetchServerStatus('main');
                fetchServerStatus('backup');
            }, 1000);

            // 每30秒自动刷新一次状态
            setInterval(() => {
                fetchServerStatus('main');
                fetchServerStatus('backup');
            }, 30000);
        });
    </script>

    <style>
        /* 模态框样式 */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .modal-header h2 {
            margin: 0;
            color: var(--primary-color);
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #e74c3c;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 15px;
            }
        }

        /* 管理团队成员样式 */
        .management-section {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 60px 20px;
            margin-top: 80px;
        }

        .management-section .section-header h2 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .management-section .section-header p {
            color: rgba(255,255,255,0.8);
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 40px;
        }

        .management-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .management-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .management-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .management-card:hover {
            transform: translateY(-10px);
            background: rgba(255,255,255,0.15);
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        }

        .management-avatar {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
            border: 3px solid rgba(255,255,255,0.3);
        }

        .management-card h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
            font-weight: 600;
        }

        .management-name {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #ecf0f1;
        }

        .management-role {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
            margin-bottom: 0;
        }

        /* 不同角色的特殊样式 */
        .management-card.admin-main {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.2) 0%, rgba(243, 156, 18, 0.2) 100%);
            border-color: rgba(241, 196, 15, 0.3);
        }

        .management-card.admin-main .management-avatar {
            background: rgba(241, 196, 15, 0.3);
            border-color: rgba(241, 196, 15, 0.5);
        }

        .management-card.admin {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.2) 0%, rgba(41, 128, 185, 0.2) 100%);
            border-color: rgba(52, 152, 219, 0.3);
        }

        .management-card.admin .management-avatar {
            background: rgba(52, 152, 219, 0.3);
            border-color: rgba(52, 152, 219, 0.5);
        }

        .management-card.server-owner {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.2) 0%, rgba(192, 57, 43, 0.2) 100%);
            border-color: rgba(231, 76, 60, 0.3);
        }

        .management-card.server-owner .management-avatar {
            background: rgba(231, 76, 60, 0.3);
            border-color: rgba(231, 76, 60, 0.5);
        }

        /* 角色标签 */
        .management-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 20px 20px 0 0;
        }

        .management-card.admin-main::before {
            background: linear-gradient(90deg, #f1c40f, #f39c12);
        }

        .management-card.admin::before {
            background: linear-gradient(90deg, #3498db, #2980b9);
        }

        .management-card.server-owner::before {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        /* 邮件联系功能样式 */
        .management-contact {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .email-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.3);
            margin-bottom: 10px;
        }

        .email-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .email-button i {
            margin-right: 8px;
            font-size: 1rem;
        }

        .email-address {
            display: block;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.7);
            margin-top: 5px;
            font-family: 'Courier New', monospace;
        }

        .contact-info {
            display: block;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            font-style: italic;
            margin-top: 10px;
        }

        /* 以太诺斯特殊样式 */
        .management-card.official {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.2) 0%, rgba(142, 68, 173, 0.2) 100%);
            border-color: rgba(155, 89, 182, 0.3);
        }

        .management-card.official .management-avatar {
            background: rgba(155, 89, 182, 0.3);
            border-color: rgba(155, 89, 182, 0.5);
        }

        .management-card.official::before {
            background: linear-gradient(90deg, #9b59b6, #8e44ad);
        }

        .management-card.studio {
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.2) 0%, rgba(39, 174, 96, 0.2) 100%);
            border-color: rgba(46, 204, 113, 0.3);
        }

        .management-card.studio .management-avatar {
            background: rgba(46, 204, 113, 0.3);
            border-color: rgba(46, 204, 113, 0.5);
        }

        .management-card.studio::before {
            background: linear-gradient(90deg, #2ecc71, #27ae60);
        }

        /* 快速联系特殊样式 */
        .management-card.quick-contact {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.3) 0%, rgba(231, 76, 60, 0.3) 100%);
            border-color: rgba(241, 196, 15, 0.4);
            position: relative;
            overflow: hidden;
        }

        .management-card.quick-contact .management-avatar {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.4), rgba(231, 76, 60, 0.4));
            border-color: rgba(255, 255, 255, 0.6);
            animation: pulse 2s infinite;
        }

        .management-card.quick-contact::before {
            background: linear-gradient(90deg, #f1c40f, #e74c3c);
            height: 6px;
        }

        .email-button.quick-send {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.4), rgba(231, 76, 60, 0.4));
            border: 2px solid rgba(255, 255, 255, 0.4);
            font-weight: 600;
            letter-spacing: 0.5px;
            animation: glow 2s infinite alternate;
        }

        .email-button.quick-send:hover {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.6), rgba(231, 76, 60, 0.6));
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .contact-hint {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.9);
            margin-top: 8px;
            font-style: italic;
            text-align: center;
        }

        /* 动画效果 */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(241, 196, 15, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(241, 196, 15, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(241, 196, 15, 0);
            }
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 5px rgba(241, 196, 15, 0.5);
            }
            to {
                box-shadow: 0 0 20px rgba(231, 76, 60, 0.8);
            }
        }

        /* 快速联系卡片特殊动画 */
        .management-card.quick-contact {
            animation: fadeInUp 0.8s ease-out, float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        /* 邮箱按钮悬停效果 */
        .management-card.admin-main .email-button:hover {
            background: rgba(241, 196, 15, 0.4);
            border-color: rgba(241, 196, 15, 0.6);
        }

        .management-card.admin .email-button:hover {
            background: rgba(52, 152, 219, 0.4);
            border-color: rgba(52, 152, 219, 0.6);
        }

        .management-card.server-owner .email-button:hover {
            background: rgba(231, 76, 60, 0.4);
            border-color: rgba(231, 76, 60, 0.6);
        }

        .management-card.official .email-button:hover {
            background: rgba(155, 89, 182, 0.4);
            border-color: rgba(155, 89, 182, 0.6);
        }

        .management-card.studio .email-button:hover {
            background: rgba(46, 204, 113, 0.4);
            border-color: rgba(46, 204, 113, 0.6);
        }

        @media (max-width: 768px) {
            .management-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .management-section .section-header h2 {
                font-size: 2rem;
            }
            
            .management-card {
                padding: 25px;
            }
            
            .management-avatar {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
        }

        /* 动画效果 */
        .management-card {
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 服务器状态样式 */
        .server-status-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .servers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .server-status-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 25px;
            color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: fadeInUp 0.6s ease-out;
        }

        .status-loading {
            text-align: center;
            padding: 30px;
        }

        .status-loading .loading-spinner {
            width: 35px;
            height: 35px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        .status-card {
            background: transparent;
            padding: 0;
        }

        .status-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        .status-indicator {
            font-size: 1.8rem;
            margin-right: 12px;
            animation: pulse 2s infinite;
        }

        .status-indicator.online {
            color: #2ecc71;
        }

        .status-indicator.offline {
            color: #e74c3c;
        }

        .status-info h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .status-info p {
            margin: 3px 0 0 0;
            opacity: 0.8;
            font-size: 1rem;
        }

        .status-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
            margin-bottom: 15px;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .status-label {
            font-weight: 500;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .status-value {
            font-weight: 600;
            text-align: right;
            font-size: 0.9rem;
        }

        /* 玩家进度条样式 */
        .player-progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            justify-content: flex-end;
        }

        .player-progress-bar {
            width: 100px;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .player-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .player-count {
            font-weight: 600;
            font-size: 0.85rem;
            min-width: 45px;
            text-align: right;
        }

        .status-motd {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
        }

        .status-motd p {
            margin: 0;
            font-style: italic;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .status-error {
            text-align: center;
            padding: 30px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 15px;
            border: 2px solid rgba(231, 76, 60, 0.3);
        }

        .status-error i {
            font-size: 2.5rem;
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .status-error p {
            margin: 0 0 10px 0;
            font-size: 0.9rem;
        }

        .refresh-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .refresh-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .servers-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .server-status-item {
                padding: 20px;
            }
            
            .status-header {
                flex-direction: column;
                text-align: center;
            }
            
            .status-indicator {
                margin-right: 0;
                margin-bottom: 8px;
            }
            
            .status-info h3 {
                font-size: 1.3rem;
            }
            
            .player-progress-bar {
                width: 80px;
            }
        }
    </style>
    <script src="../cookie-consent.js"></script>
</body>
</html>